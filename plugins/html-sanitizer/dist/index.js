"use strict";function e(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(i){if("default"!==i){var s=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return e[i]}})}}),t.default=e,Object.freeze(t)}var t=e(require("jodit")),i=t.Jodit||t;class s{init(e){this.jodit=e,this.sanitizeFunc=this.sanitize.bind(this),this.sanitizePasteFunc=this.sanitizePaste.bind(this),e.events.on("change",this.sanitizeFunc),e.events.on("processPaste",this.sanitizePasteFunc)}destruct(){this.jodit.events.off("change",this.sanitizeFunc),this.jodit.events.off("processPaste",this.sanitizePasteFunc)}sanitize(){this.removeUnsafeAttributes(this.jodit.editor)&&this.jodit.synchronizeValues()}sanitizePaste(e,t,i){const s=document.createElement("div");s.innerHTML=t;return this.removeUnsafeAttributes(s)?s.innerHTML:t}removeUnsafeAttributes(e){let t=!1;return e.querySelectorAll("*").forEach(e=>{[...e.attributes].forEach(i=>{i.name.match(/^(href|src|action)$/i)&&i.value.match(/^javascript:/i)&&(e.removeAttribute(i.name),t=!0),i.name.match(/^on/i)&&(e.removeAttribute(i.name),t=!0)})}),t}}i.plugins.add("html-sanitizer",s),module.exports=s;
//# sourceMappingURL=index.js.map
