{"version":3,"file":"index.module.mjs","sources":["../src/jodit.js","../src/plugin.js","../src/lang.js","../src/index.js"],"sourcesContent":["import * as module from 'jodit';\n\nexport default module.Jodit || module;\n","import Jodit from './jodit.js';\n\nexport default class {\n  init(jodit) {\n    this.jodit = jodit;\n\n    this.onDblClickFunc = this.onDblClick.bind(this);\n    this.jodit.events.on('dblclick', this.onDblClickFunc);\n  }\n\n  destruct() {\n    this.jodit.events.off('dblclick', this.onDblClickFunc);\n  }\n\n  onDblClick(event) {\n    if (event.target.tagName === 'JODIT-MEDIA') {\n      const audio = event.target.querySelector('audio');\n      if (audio) {\n        this.showDialog(audio, event.target);\n        event.preventDefault();\n      }\n    }\n  }\n\n  showDialog(audio, wrapper) {\n    const dialog = this.jodit.dlg({\n      closeOnClickOverlay: true,\n      closeOnEsc: true,\n      buttons: ['fullsize', 'dialog.close']\n    });\n\n    const { UIForm, UIInput, Button } = Jodit.modules;\n\n    const form = new UIForm(this.jodit);\n    form.container.classList.add('jodit-ui-form__audio-properties');\n\n    const input = {\n      src: new UIInput(this.jodit, {\n        name: 'src',\n        label: 'URL',\n        required: true\n      })\n    };\n\n    form.append(Object.values(input));\n\n    this.read(audio, input);\n\n    const button = {\n      cancel: new Button(this.jodit, 'cancel', 'Cancel'),\n      apply: new Button(this.jodit, 'ok', 'Apply', 'primary')\n    };\n\n    button.apply.onAction(() => {\n      if (form.validate()) {\n        this.write(audio, input);\n        this.jodit.synchronizeValues();\n        dialog.close();\n      }\n    });\n\n    button.cancel.onAction(() => {\n      dialog.close();\n    });\n\n    dialog.setHeader(this.jodit.i18n('audioPropsProperties'));\n    dialog.setContent(form);\n    dialog.setFooter(Object.values(button));\n    dialog.setSize(500, 400);\n\n    dialog.open();\n    dialog.setModal(true);\n  }\n\n  read(audio, input) {\n    input.src.value = audio.src || '';\n  }\n\n  write(audio, input) {\n    audio.src = input.src.value;\n  }\n}\n","export default {\n  en: {\n    audioPropsProperties: 'Audio properties'\n  },\n  ja: {\n    audioPropsProperties: '音声のプロパティ'\n  }\n};\n","import Jodit from './jodit.js';\nimport Plugin from './plugin.js';\nimport lang from './lang.js';\nimport './index.scss';\n\nObject.keys(lang).forEach(locale => {\n  Jodit.lang[locale] = {\n    ...Jodit.lang[locale],\n    ...lang[locale]\n  }\n});\n\nJodit.plugins.add('audio-props', Plugin);\n\nexport default Plugin;\n"],"names":["Jodit","module","Plugin","init","jodit","this","onDblClickFunc","onDblClick","bind","events","on","destruct","off","event","target","tagName","audio","querySelector","showDialog","preventDefault","wrapper","dialog","dlg","closeOnClickOverlay","closeOnEsc","buttons","UIForm","UIInput","Button","modules","form","container","classList","add","input","src","name","label","required","append","Object","values","read","button","cancel","apply","onAction","validate","write","synchronizeValues","close","setHeader","i18n","setContent","setFooter","setSize","open","setModal","value","lang","en","audioPropsProperties","ja","keys","forEach","locale","plugins"],"mappings":"wBAEA,IAAAA,EAAeC,EAAOD,OAASC,ECAhB,MAAAC,EACbC,IAAAA,CAAKC,GACHC,KAAKD,MAAQA,EAEbC,KAAKC,eAAiBD,KAAKE,WAAWC,KAAKH,MAC3CA,KAAKD,MAAMK,OAAOC,GAAG,WAAYL,KAAKC,eACxC,CAEAK,QAAAA,GACEN,KAAKD,MAAMK,OAAOG,IAAI,WAAYP,KAAKC,eACzC,CAEAC,UAAAA,CAAWM,GACT,GAA6B,gBAAzBA,EAAMC,OAAOC,QAA2B,CAC1C,MAAMC,EAAQH,EAAMC,OAAOG,cAAc,SACrCD,IACFX,KAAKa,WAAWF,EAAOH,EAAMC,QAC7BD,EAAMM,iBAEV,CACF,CAEAD,UAAAA,CAAWF,EAAOI,GAChB,MAAMC,EAAShB,KAAKD,MAAMkB,IAAI,CAC5BC,qBAAqB,EACrBC,YAAY,EACZC,QAAS,CAAC,WAAY,mBAGlBC,OAAEA,EAAMC,QAAEA,EAAOC,OAAEA,GAAW5B,EAAM6B,QAEpCC,EAAO,IAAIJ,EAAOrB,KAAKD,OAC7B0B,EAAKC,UAAUC,UAAUC,IAAI,mCAE7B,MAAMC,EAAQ,CACZC,IAAK,IAAIR,EAAQtB,KAAKD,MAAO,CAC3BgC,KAAM,MACNC,MAAO,MACPC,UAAU,KAIdR,EAAKS,OAAOC,OAAOC,OAAOP,IAE1B7B,KAAKqC,KAAK1B,EAAOkB,GAEjB,MAAMS,EAAS,CACbC,OAAQ,IAAIhB,EAAOvB,KAAKD,MAAO,SAAU,UACzCyC,MAAO,IAAIjB,EAAOvB,KAAKD,MAAO,KAAM,QAAS,YAG/CuC,EAAOE,MAAMC,SAAS,KAChBhB,EAAKiB,aACP1C,KAAK2C,MAAMhC,EAAOkB,GAClB7B,KAAKD,MAAM6C,oBACX5B,EAAO6B,WAIXP,EAAOC,OAAOE,SAAS,KACrBzB,EAAO6B,UAGT7B,EAAO8B,UAAU9C,KAAKD,MAAMgD,KAAK,yBACjC/B,EAAOgC,WAAWvB,GAClBT,EAAOiC,UAAUd,OAAOC,OAAOE,IAC/BtB,EAAOkC,QAAQ,IAAK,KAEpBlC,EAAOmC,OACPnC,EAAOoC,UAAS,EAClB,CAEAf,IAAAA,CAAK1B,EAAOkB,GACVA,EAAMC,IAAIuB,MAAQ1C,EAAMmB,KAAO,EACjC,CAEAa,KAAAA,CAAMhC,EAAOkB,GACXlB,EAAMmB,IAAMD,EAAMC,IAAIuB,KACxB,EChFF,IAAeC,EAAA,CACbC,GAAI,CACFC,qBAAsB,oBAExBC,GAAI,CACFD,qBAAsB,aCA1BrB,OAAOuB,KAAKJ,GAAMK,QAAQC,IACxBjE,EAAM2D,KAAKM,GAAU,IAChBjE,EAAM2D,KAAKM,MACXN,EAAKM,MAIZjE,EAAMkE,QAAQjC,IAAI,cAAe/B"}