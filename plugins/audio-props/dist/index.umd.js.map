{"version":3,"file":"index.umd.js","sources":["../src/plugin.js","../src/lang.js","../src/index.js"],"sourcesContent":["import { Jodit } from 'jodit';\n\nexport default class {\n  init(jodit) {\n    this.jodit = jodit;\n\n    this.onDblClickFunc = this.onDblClick.bind(this);\n    this.jodit.events.on('dblclick', this.onDblClickFunc);\n  }\n\n  destruct() {\n    this.jodit.events.off('dblclick', this.onDblClickFunc);\n  }\n\n  onDblClick(event) {\n    if (event.target.tagName === 'JODIT-MEDIA') {\n      const audio = event.target.querySelector('audio');\n      if (audio) {\n        this.showDialog(audio, event.target);\n        event.preventDefault();\n      }\n    }\n  }\n\n  showDialog(audio, wrapper) {\n    const dialog = this.jodit.dlg({\n      closeOnClickOverlay: true,\n      closeOnEsc: true,\n      buttons: ['fullsize', 'dialog.close']\n    });\n\n    const { UIForm, UIInput, Button } = Jodit.modules;\n\n    const form = new UIForm(this.jodit);\n    form.container.classList.add('jodit-ui-form__audio-properties');\n\n    const input = {\n      src: new UIInput(this.jodit, {\n        name: 'src',\n        label: 'URL',\n        required: true\n      })\n    };\n\n    form.append(Object.values(input));\n\n    this.read(audio, input);\n\n    const button = {\n      cancel: new Button(this.jodit, 'cancel', 'Cancel'),\n      apply: new Button(this.jodit, 'ok', 'Apply', 'primary')\n    };\n\n    button.apply.onAction(() => {\n      if (form.validate()) {\n        this.write(audio, input);\n        this.jodit.synchronizeValues();\n        dialog.close();\n      }\n    });\n\n    button.cancel.onAction(() => {\n      dialog.close();\n    });\n\n    dialog.setHeader(this.jodit.i18n('audioPropsProperties'));\n    dialog.setContent(form);\n    dialog.setFooter(Object.values(button));\n    dialog.setSize(500, 400);\n\n    dialog.open();\n    dialog.setModal(true);\n  }\n\n  read(audio, input) {\n    input.src.value = audio.src || '';\n  }\n\n  write(audio, input) {\n    audio.src = input.src.value;\n  }\n}\n","export default {\n  en: {\n    audioPropsProperties: 'Audio properties'\n  },\n  ja: {\n    audioPropsProperties: '音声のプロパティ'\n  }\n};\n","import { Jodit } from 'jodit';\nimport Plugin from './plugin.js';\nimport lang from './lang.js';\nimport './index.scss';\n\nObject.keys(lang).forEach(locale => {\n  Jodit.lang[locale] = {\n    ...Jodit.lang[locale],\n    ...lang[locale]\n  }\n});\n\nJodit.plugins.add('audio-props', Plugin);\n\nexport default Plugin;\n"],"names":["Plugin","init","jodit","this","onDblClickFunc","onDblClick","bind","events","on","destruct","off","event","target","tagName","audio","querySelector","showDialog","preventDefault","wrapper","dialog","dlg","closeOnClickOverlay","closeOnEsc","buttons","UIForm","UIInput","Button","Jodit","modules","form","container","classList","add","input","src","name","label","required","append","Object","values","read","button","cancel","apply","onAction","validate","write","synchronizeValues","close","setHeader","i18n","setContent","setFooter","setSize","open","setModal","value","lang","en","audioPropsProperties","ja","keys","forEach","locale","plugins"],"mappings":"uRAEe,MAAAA,EACbC,IAAAA,CAAKC,GACHC,KAAKD,MAAQA,EAEbC,KAAKC,eAAiBD,KAAKE,WAAWC,KAAKH,MAC3CA,KAAKD,MAAMK,OAAOC,GAAG,WAAYL,KAAKC,eACxC,CAEAK,QAAAA,GACEN,KAAKD,MAAMK,OAAOG,IAAI,WAAYP,KAAKC,eACzC,CAEAC,UAAAA,CAAWM,GACT,GAA6B,gBAAzBA,EAAMC,OAAOC,QAA2B,CAC1C,MAAMC,EAAQH,EAAMC,OAAOG,cAAc,SACrCD,IACFX,KAAKa,WAAWF,EAAOH,EAAMC,QAC7BD,EAAMM,iBAEV,CACF,CAEAD,UAAAA,CAAWF,EAAOI,GAChB,MAAMC,EAAShB,KAAKD,MAAMkB,IAAI,CAC5BC,qBAAqB,EACrBC,YAAY,EACZC,QAAS,CAAC,WAAY,mBAGlBC,OAAEA,EAAMC,QAAEA,EAAOC,OAAEA,GAAWC,EAAAA,MAAMC,QAEpCC,EAAO,IAAIL,EAAOrB,KAAKD,OAC7B2B,EAAKC,UAAUC,UAAUC,IAAI,mCAE7B,MAAMC,EAAQ,CACZC,IAAK,IAAIT,EAAQtB,KAAKD,MAAO,CAC3BiC,KAAM,MACNC,MAAO,MACPC,UAAU,KAIdR,EAAKS,OAAOC,OAAOC,OAAOP,IAE1B9B,KAAKsC,KAAK3B,EAAOmB,GAEjB,MAAMS,EAAS,CACbC,OAAQ,IAAIjB,EAAOvB,KAAKD,MAAO,SAAU,UACzC0C,MAAO,IAAIlB,EAAOvB,KAAKD,MAAO,KAAM,QAAS,YAG/CwC,EAAOE,MAAMC,SAAS,KAChBhB,EAAKiB,aACP3C,KAAK4C,MAAMjC,EAAOmB,GAClB9B,KAAKD,MAAM8C,oBACX7B,EAAO8B,WAIXP,EAAOC,OAAOE,SAAS,KACrB1B,EAAO8B,UAGT9B,EAAO+B,UAAU/C,KAAKD,MAAMiD,KAAK,yBACjChC,EAAOiC,WAAWvB,GAClBV,EAAOkC,UAAUd,OAAOC,OAAOE,IAC/BvB,EAAOmC,QAAQ,IAAK,KAEpBnC,EAAOoC,OACPpC,EAAOqC,UAAS,EAClB,CAEAf,IAAAA,CAAK3B,EAAOmB,GACVA,EAAMC,IAAIuB,MAAQ3C,EAAMoB,KAAO,EACjC,CAEAa,KAAAA,CAAMjC,EAAOmB,GACXnB,EAAMoB,IAAMD,EAAMC,IAAIuB,KACxB,EChFa,IAAAC,EAAA,CACbC,GAAI,CACFC,qBAAsB,oBAExBC,GAAI,CACFD,qBAAsB,oBCA1BrB,OAAOuB,KAAKJ,GAAMK,QAAQC,IACxBrC,QAAM+B,KAAKM,GAAU,IAChBrC,EAAKA,MAAC+B,KAAKM,MACXN,EAAKM,MAIP9D,EAAAyB,MAACsC,QAAQjC,IAAI,cAAehC"}