import*as t from"jodit";var e=t.Jodit||t;class i{init(t){this.jodit=t,this.onDblClickFunc=this.onDblClick.bind(this),this.jodit.events.on("dblclick",this.onDblClickFunc)}destruct(){this.jodit.events.off("dblclick",this.onDblClickFunc)}onDblClick(t){if("JODIT-MEDIA"===t.target.tagName){const e=t.target.querySelector("audio");e&&(this.showDialog(e,t.target),t.preventDefault())}}showDialog(t,i){const o=this.jodit.dlg({closeOnClickOverlay:!0,closeOnEsc:!0,buttons:["fullsize","dialog.close"]}),{UIForm:s,UIInput:l,Button:a}=e.modules,n=new s(this.jodit);n.container.classList.add("jodit-ui-form__audio-properties");const c={src:new l(this.jodit,{name:"src",label:"URL",required:!0})};n.append(Object.values(c)),this.read(t,c);const r={cancel:new a(this.jodit,"cancel","Cancel"),apply:new a(this.jodit,"ok","Apply","primary")};r.apply.onAction(()=>{n.validate()&&(this.write(t,c),this.jodit.synchronizeValues(),o.close())}),r.cancel.onAction(()=>{o.close()}),o.setHeader(this.jodit.i18n("audioPropsProperties")),o.setContent(n),o.setFooter(Object.values(r)),o.setSize(500,400),o.open(),o.setModal(!0)}read(t,e){e.src.value=t.src||""}write(t,e){t.src=e.src.value}}var o={en:{audioPropsProperties:"Audio properties"},ja:{audioPropsProperties:"音声のプロパティ"}};Object.keys(o).forEach(t=>{e.lang[t]={...e.lang[t],...o[t]}}),e.plugins.add("audio-props",i);export{i as default};
//# sourceMappingURL=index.module.mjs.map
