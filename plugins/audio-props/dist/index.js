"use strict";var t=require("jodit");class e{init(t){this.jodit=t,this.onDblClickFunc=this.onDblClick.bind(this),this.jodit.events.on("dblclick",this.onDblClickFunc)}destruct(){this.jodit.events.off("dblclick",this.onDblClickFunc)}onDblClick(t){if("JODIT-MEDIA"===t.target.tagName){const e=t.target.querySelector("audio");e&&(this.showDialog(e,t.target),t.preventDefault())}}showDialog(e,i){const o=this.jodit.dlg({closeOnClickOverlay:!0,closeOnEsc:!0,buttons:["fullsize","dialog.close"]}),{UIForm:s,UIInput:l,Button:c}=t.Jodit.modules,n=new s(this.jodit);n.container.classList.add("jodit-ui-form__audio-properties");const r={src:new l(this.jodit,{name:"src",label:"URL",required:!0})};n.append(Object.values(r)),this.read(e,r);const a={cancel:new c(this.jodit,"cancel","Cancel"),apply:new c(this.jodit,"ok","Apply","primary")};a.apply.onAction(()=>{n.validate()&&(this.write(e,r),this.jodit.synchronizeValues(),o.close())}),a.cancel.onAction(()=>{o.close()}),o.setHeader(this.jodit.i18n("audioPropsProperties")),o.setContent(n),o.setFooter(Object.values(a)),o.setSize(500,400),o.open(),o.setModal(!0)}read(t,e){e.src.value=t.src||""}write(t,e){t.src=e.src.value}}var i={en:{audioPropsProperties:"Audio properties"},ja:{audioPropsProperties:"音声のプロパティ"}};Object.keys(i).forEach(e=>{t.Jodit.lang[e]={...t.Jodit.lang[e],...i[e]}}),t.Jodit.plugins.add("audio-props",e),module.exports=e;
//# sourceMappingURL=index.js.map
