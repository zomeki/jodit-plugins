import*as t from"jodit";var e=t.Jodit||t;class i{init(t){this.jodit=t,this.onDblClickFunc=this.onDblClick.bind(this),t.events.on("dblclick",this.onDblClickFunc)}destruct(){this.jodit.events.off("dblclick",this.onDblClickFunc)}onDblClick(t){if("JODIT"===t.target.tagName){const e=t.target.querySelector("iframe");e&&(this.showDialog(e,t.target),t.preventDefault())}}showDialog(t,i){const s=this.jodit.dlg({closeOnClickOverlay:!0,closeOnEsc:!0,buttons:["fullsize","dialog.close"]}),{UIForm:o,UIInput:l,Button:a}=e.modules,r=new o(this.jodit);r.container.classList.add("jodit-ui-form__iframe-properties");const n={src:new l(this.jodit,{name:"src",label:"URL",required:!0}),width:new l(this.jodit,{name:"width",label:this.jodit.i18n("Width")}),height:new l(this.jodit,{name:"height",label:this.jodit.i18n("Height")}),title:new l(this.jodit,{name:"title",label:this.jodit.i18n("Title")})};r.append(Object.values(n)),this.read(t,n);const c={cancel:new a(this.jodit,"cancel","Cancel"),apply:new a(this.jodit,"ok","Apply","primary")};c.apply.onAction(()=>{r.validate()&&(this.write(t,i,n),this.jodit.synchronizeValues(),s.close())}),c.cancel.onAction(()=>{s.close()}),s.setHeader(this.jodit.i18n("iframePropsProperties")),s.setContent(r),s.setFooter(Object.values(c)),s.setSize(500,400),s.open(),s.setModal(!0)}read(t,e){["src","width","height","title"].forEach(i=>{e[i].value=t.getAttribute(i)||""})}write(t,e,i){["src","width","height","title"].forEach(s=>{i[s].value?(t.setAttribute(s,i[s].value),e.style[s]=i[s].value):(t.removeAttribute(s),e.style[s]="")}),["width","height"].forEach(t=>{i[t].value?e.style[t]=i[t].value:e.style[t]=""})}}var s={en:{iframePropsProperties:"Iframe properties"},ja:{iframePropsProperties:"インラインフレームのプロパティ"}};Object.keys(s).forEach(t=>{e.lang[t]={...e.lang[t],...s[t]}}),e.plugins.add("iframe-props",i);export{i as default};
//# sourceMappingURL=index.module.mjs.map
