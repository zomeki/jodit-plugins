import{Jodit as t}from"jodit";class e{init(t){this.jodit=t,this.onDblClickFunc=this.onDblClick.bind(this),t.events.on("dblclick",this.onDblClickFunc)}destruct(){this.jodit.events.off("dblclick",this.onDblClickFunc)}onDblClick(t){if("JODIT"===t.target.tagName){const e=t.target.querySelector("iframe");e&&(this.showDialog(e,t.target),t.preventDefault())}}showDialog(e,i){const s=this.jodit.dlg({closeOnClickOverlay:!0,closeOnEsc:!0,buttons:["fullsize","dialog.close"]}),{UIForm:o,UIInput:r,Button:l}=t.modules,a=new o(this.jodit);a.container.classList.add("jodit-ui-form__iframe-properties");const n={src:new r(this.jodit,{name:"src",label:"URL",required:!0}),width:new r(this.jodit,{name:"width",label:this.jodit.i18n("iframePropsWidth")}),height:new r(this.jodit,{name:"height",label:this.jodit.i18n("iframePropsHeight")}),title:new r(this.jodit,{name:"title",label:this.jodit.i18n("iframePropsTitle")})};a.append(Object.values(n)),this.read(e,n);const h={cancel:new l(this.jodit,"cancel","Cancel"),apply:new l(this.jodit,"ok","Apply","primary")};h.apply.onAction(()=>{a.validate()&&(this.write(e,i,n),this.jodit.synchronizeValues(),s.close())}),h.cancel.onAction(()=>{s.close()}),s.setHeader(this.jodit.i18n("iframePropsProperties")),s.setContent(a),s.setFooter(Object.values(h)),s.setSize(500,400),s.open(),s.setModal(!0)}read(t,e){["src","width","height","title"].forEach(i=>{e[i].value=t.getAttribute(i)||""})}write(t,e,i){["src","width","height","title"].forEach(s=>{i[s].value?(t.setAttribute(s,i[s].value),e.style[s]=i[s].value):(t.removeAttribute(s),e.style[s]="")}),["width","height"].forEach(t=>{i[t].value?e.style[t]=i[t].value:e.style[t]=""})}}var i={en:{iframePropsProperties:"Iframe properties",iframePropsWidth:"Width",iframePropsHeight:"Height",iframePropsTitle:"Title"},ja:{iframePropsProperties:"インラインフレームのプロパティ",iframePropsWidth:"幅",iframePropsHeight:"高さ",iframePropsTitle:"タイトル"}};Object.keys(i).forEach(e=>{t.lang[e]={...t.lang[e],...i[e]}}),t.plugins.add("iframe-props",e);export{e as default};
//# sourceMappingURL=index.module.mjs.map
