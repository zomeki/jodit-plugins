{"version":3,"file":"index.js","sources":["../src/jodit.js","../src/plugin.js","../src/lang.js","../src/index.js"],"sourcesContent":["import * as module from 'jodit';\n\nexport default module.Jodit || module;\n","import icon from './images/icon.svg';\n\nexport default class {\n  init(jodit) {\n    this.jodit = jodit;\n\n    jodit.options.controls.audioTag = {\n      name: 'audioTag',\n      icon: icon,\n      tooltip: jodit.i18n('audioTagInsertAudio'),\n      popup: this.popup.bind(this)\n    };\n  }\n\n  popupHTML() {\n    return `\n      <form class=\"jodit-ui-form\">\n        <div class=\"jodit-ui-input\">\n          <span class=\"jodit-ui-input__label\">URL</span>\n          <div class=\"jodit-ui-input__wrapper\">\n            <input type=\"text\" placeholder=\"https://\" class=\"jodit-ui-input__input\" style=\"width: 150px;\">\n          </div>\n        </div>\n        <div class=\"jodit-ui-block\">\n          <button class=\"jodit-ui-button jodit-ui-button_variant_primary\">${this.jodit.i18n('Insert')}</button>\n        </div>\n      </form>\n    `;\n  }\n\n  popup(jodit, current, close) {\n    const wrapper = jodit.createInside.fromHTML(this.popupHTML());\n    const input = wrapper.querySelector('input');\n    const button = wrapper.querySelector('button');\n\n    input.addEventListener('keydown', event => {\n      if (event.key === 'Enter') {\n        button.click();\n      }\n    });\n\n    jodit.selection.save();\n\n    button.addEventListener('click', event => {\n      if (input.value) {\n        const html = this.buildHTML(input.value);\n        jodit.selection.restore();\n        jodit.selection.insertHTML(html);\n      }\n      close();\n    });\n\n    return wrapper;\n  }\n\n  buildHTML(url) {\n    return `<audio controls src=\"${url}\"></audio>`;\n  }\n}\n","export default {\n  en: {\n    audioTagInsertAudio: 'Insert audio'\n  },\n  ja: {\n    audioTagInsertAudio: '音声を挿入'\n  }\n};\n","import Jodit from './jodit.js';\nimport Plugin from './plugin.js';\nimport lang from './lang.js';\n\nObject.keys(lang).forEach(locale => {\n  Jodit.lang[locale] = {\n    ...Jodit.lang[locale],\n    ...lang[locale]\n  }\n});\n\nJodit.plugins.add('audio-tag', Plugin);\n\nexport default Plugin;\n"],"names":["Jodit","module","Plugin","init","jodit","this","options","controls","audioTag","name","icon","tooltip","i18n","popup","bind","popupHTML","current","close","wrapper","createInside","fromHTML","input","querySelector","button","addEventListener","event","key","click","selection","save","value","html","buildHTML","restore","insertHTML","url","lang","en","audioTagInsertAudio","ja","Object","keys","forEach","locale","plugins","add"],"mappings":"oUAEAA,EAAeC,EAAOD,OAASC,ECAhB,MAAAC,EACbC,IAAAA,CAAKC,GACHC,KAAKD,MAAQA,EAEbA,EAAME,QAAQC,SAASC,SAAW,CAChCC,KAAM,WACNC,wvBACAC,QAASP,EAAMQ,KAAK,uBACpBC,MAAOR,KAAKQ,MAAMC,KAAKT,MAE3B,CAEAU,SAAAA,GACE,MAAO,wbASiEV,KAAKD,MAAMQ,KAAK,yDAI1F,CAEAC,KAAAA,CAAMT,EAAOY,EAASC,GACpB,MAAMC,EAAUd,EAAMe,aAAaC,SAASf,KAAKU,aAC3CM,EAAQH,EAAQI,cAAc,SAC9BC,EAASL,EAAQI,cAAc,UAmBrC,OAjBAD,EAAMG,iBAAiB,UAAWC,IACd,UAAdA,EAAMC,KACRH,EAAOI,UAIXvB,EAAMwB,UAAUC,OAEhBN,EAAOC,iBAAiB,QAASC,IAC/B,GAAIJ,EAAMS,MAAO,CACf,MAAMC,EAAO1B,KAAK2B,UAAUX,EAAMS,OAClC1B,EAAMwB,UAAUK,UAChB7B,EAAMwB,UAAUM,WAAWH,EAC7B,CACAd,MAGKC,CACT,CAEAc,SAAAA,CAAUG,GACR,MAAO,wBAAwBA,aACjC,ECzDF,IAAeC,EAAA,CACbC,GAAI,CACFC,oBAAqB,gBAEvBC,GAAI,CACFD,oBAAqB,UCDzBE,OAAOC,KAAKL,GAAMM,QAAQC,IACxB3C,EAAMoC,KAAKO,GAAU,IAChB3C,EAAMoC,KAAKO,MACXP,EAAKO,MAIZ3C,EAAM4C,QAAQC,IAAI,YAAa3C"}