!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jodit")):"function"==typeof define&&define.amd?define(["jodit"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).JoditPluginCleanPaste=t(e.Jodit)}(this,function(e){"use strict";function t(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var n=t(e),o=n.Jodit||n;const r=o.constants.globalDocument,s=o.modules.Dom,{toArray:i,trim:a}=o.modules.Helpers;function c(e){-1!==e.indexOf("<html ")&&(e=(e=e.substring(e.indexOf("<html "),e.length)).substring(0,e.lastIndexOf("</html>")+7));let t="";try{const n=r.createElement("div");n.innerHTML=e;const o=[];n.firstChild&&s.each(n,e=>{if(e)switch(e.nodeType){case Node.ELEMENT_NODE:switch(e.nodeName){case"STYLE":case"LINK":case"META":o.push(e);break;case"W:SDT":case"W:SDTPR":case"FONT":s.unwrap(e);break;default:i(e.attributes).forEach(t=>{-1===["src","href","rel","content","colspan","rowspan"].indexOf(t.name.toLowerCase())&&e.removeAttribute(t.name)})}break;case Node.TEXT_NODE:break;default:o.push(e)}}),s.safeRemove.apply(null,o),t=n.innerHTML}catch(e){}return t&&(e=t),(e=e.split(/(\n)/).filter(a).join("\n")).replace(/<(\/)?(html|colgroup|col|o:p)[^>]*>/g,"").replace(/<!--[^>]*>/g,"")}const l=o.plugins.get("paste-from-word");if(l){const e=l.prototype.insertFromWordByType;l.prototype.insertFromWordByType=function(t,n,o,r){"insert_by_clean_paste"===o?this.j.selection.insertHTML(c(n)):e.apply(this,[t,n,o,r])}}class u{init(e){this.jodit=e,this.jodit.events.on("onCustomPasteHTMLOption",(e,t)=>{if("insert_by_clean_paste"===e)return c(t)})}}return o.plugins.add("paste-patch",u),u});
//# sourceMappingURL=index.umd.js.map
