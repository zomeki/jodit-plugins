!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("jodit")):"function"==typeof define&&define.amd?define(["jodit"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).JoditPluginVideoProps=t(e.Jodit)}(this,function(e){"use strict";function t(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(i){if("default"!==i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}}),t.default=e,Object.freeze(t)}var i=t(e),o=i.Jodit||i;class s{init(e){this.jodit=e,this.onDblClickFunc=this.onDblClick.bind(this),this.jodit.events.on("dblclick",this.onDblClickFunc)}destruct(){this.jodit.events.off("dblclick",this.onDblClickFunc)}onDblClick(e){if("JODIT-MEDIA"===e.target.tagName){const t=e.target.querySelector("video");t&&(this.showDialog(t,e.target),e.preventDefault())}}showDialog(e,t){const i=this.jodit.dlg({closeOnClickOverlay:!0,closeOnEsc:!0,buttons:["fullsize","dialog.close"]}),{UIForm:s,UIInput:r,Button:n}=o.modules,l=new s(this.jodit);l.container.classList.add("jodit-ui-form__video-properties");const d={src:new r(this.jodit,{name:"src",label:"URL",required:!0}),width:new r(this.jodit,{name:"width",label:this.jodit.i18n("Width")}),height:new r(this.jodit,{name:"height",label:this.jodit.i18n("Height")}),poster:new r(this.jodit,{name:"poster",label:this.jodit.i18n("videoPropsPosterURL")})};l.append(Object.values(d)),this.read(e,d);const a={cancel:new n(this.jodit,"cancel","Cancel"),apply:new n(this.jodit,"ok","Apply","primary")};a.apply.onAction(()=>{l.validate()&&(this.write(e,t,d),this.jodit.synchronizeValues(),i.close())}),a.cancel.onAction(()=>{i.close()}),i.setHeader(this.jodit.i18n("videoPropsProperties")),i.setContent(l),i.setFooter(Object.values(a)),i.setSize(500,400),i.open(),i.setModal(!0)}read(e,t){["src","width","height","poster"].forEach(i=>{t[i].value=e.getAttribute(i)||""})}write(e,t,i){["src","width","height","poster"].forEach(t=>{i[t].value?e.setAttribute(t,i[t].value):e.removeAttribute(t)}),["width","height"].forEach(e=>{i[e].value?t.style[e]=`${i[e].value}px`:t.style[e]=""})}}var r={en:{videoPropsPosterURL:"Poster image URL",videoPropsProperties:"Video properties"},ja:{videoPropsPosterURL:"ポスター画像URL",videoPropsProperties:"動画のプロパティ"}};return Object.keys(r).forEach(e=>{o.lang[e]={...o.lang[e],...r[e]}}),o.plugins.add("video-props",s),s});
//# sourceMappingURL=index.umd.js.map
