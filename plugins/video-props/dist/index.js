"use strict";var t=require("jodit");class e{init(t){this.jodit=t,this.onDblClickFunc=this.onDblClick.bind(this),this.jodit.events.on("dblclick",this.onDblClickFunc)}destruct(){this.jodit.events.off("dblclick",this.onDblClickFunc)}onDblClick(t){if("JODIT-MEDIA"===t.target.tagName){const e=t.target.querySelector("video");e&&(this.showDialog(e,t.target),t.preventDefault())}}showDialog(e,i){const o=this.jodit.dlg({closeOnClickOverlay:!0,closeOnEsc:!0,buttons:["fullsize","dialog.close"]}),{UIForm:s,UIInput:r,Button:l}=t.Jodit.modules,n=new s(this.jodit);n.container.classList.add("jodit-ui-form__video-properties");const d={src:new r(this.jodit,{name:"src",label:"URL",required:!0}),width:new r(this.jodit,{name:"width",label:this.jodit.i18n("Width")}),height:new r(this.jodit,{name:"height",label:this.jodit.i18n("Height")}),poster:new r(this.jodit,{name:"poster",label:this.jodit.i18n("videoPropsPosterURL")})};n.append(Object.values(d)),this.read(e,d);const a={cancel:new l(this.jodit,"cancel","Cancel"),apply:new l(this.jodit,"ok","Apply","primary")};a.apply.onAction(()=>{n.validate()&&(this.write(e,i,d),this.jodit.synchronizeValues(),o.close())}),a.cancel.onAction(()=>{o.close()}),o.setHeader(this.jodit.i18n("videoPropsProperties")),o.setContent(n),o.setFooter(Object.values(a)),o.setSize(500,400),o.open(),o.setModal(!0)}read(t,e){["src","width","height","poster"].forEach(i=>{e[i].value=t.getAttribute(i)||""})}write(t,e,i){["src","width","height","poster"].forEach(e=>{i[e].value?t.setAttribute(e,i[e].value):t.removeAttribute(e)}),["width","height"].forEach(t=>{i[t].value?e.style[t]=`${i[t].value}px`:e.style[t]=""})}}var i={en:{videoPropsPosterURL:"Poster image URL",videoPropsProperties:"Video properties"},ja:{videoPropsPosterURL:"ポスター画像URL",videoPropsProperties:"動画のプロパティ"}};Object.keys(i).forEach(e=>{t.Jodit.lang[e]={...t.Jodit.lang[e],...i[e]}}),t.Jodit.plugins.add("video-props",e),module.exports=e;
//# sourceMappingURL=index.js.map
