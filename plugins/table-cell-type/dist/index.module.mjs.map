{"version":3,"file":"index.module.mjs","sources":["../src/plugin.js","../src/lang.js","../src/index.js"],"sourcesContent":["import { Jodit } from 'jodit';\n\nexport default class {\n  init(jodit) {\n    this.jodit = jodit;\n\n    jodit.options.popup.cells = Jodit.atom([\n      {\n        name: 'cellToTH',\n        text: 'TH',\n        tooltip: jodit.i18n('tableCellTypeToTH'),\n        exec: () => {\n          this.convertTo('th');\n        }\n      },\n      {\n        name: 'cellToTD',\n        text: 'TD',\n        tooltip: jodit.i18n('tableCellTypeToTD'),\n        exec: () => {\n          this.convertTo('td');\n        }\n      },\n      '\\n',\n      ...jodit.options.popup.cells\n    ]);\n  }\n\n  convertTo(tag) {\n    const table = this.jodit.getInstance('Table', this.jodit.options);\n    if (!table) return;\n\n    table.getAllSelectedCells().forEach(cell => {\n      table.removeSelection(cell);\n      if (cell.tagName.toLowerCase() !== tag) {\n        const newCell = this.createNewCell(cell, tag);\n        cell.parentNode.replaceChild(newCell, cell);\n      }\n    });\n  }\n\n  createNewCell(cell, tag) {\n    const newCell = this.jodit.createInside.element(tag);\n    newCell.innerHTML = cell.innerHTML;\n\n    [...cell.attributes].forEach(attr => {\n      newCell.setAttribute(attr.name, attr.value);\n    });\n\n    return newCell;\n  }\n}\n","export default {\n  en: {\n    tableCellTypeToTH: 'convert to TH',\n    tableCellTypeToTD: 'convert to TD'\n  },\n  ja: {\n    tableCellTypeToTH: 'THに変更',\n    tableCellTypeToTD: 'TDに変更'\n  }\n};\n","import { Jodit } from 'jodit';\nimport Plugin from './plugin.js';\nimport lang from './lang.js';\n\nObject.keys(lang).forEach(locale => {\n  Jodit.lang[locale] = {\n    ...Jodit.lang[locale],\n    ...lang[locale]\n  }\n});\n\nJodit.plugins.add('table-cell-type', Plugin);\n\nexport default Plugin;\n"],"names":["Plugin","init","jodit","this","options","popup","cells","Jodit","atom","name","text","tooltip","i18n","exec","convertTo","tag","table","getInstance","getAllSelectedCells","forEach","cell","removeSelection","tagName","toLowerCase","newCell","createNewCell","parentNode","replaceChild","createInside","element","innerHTML","attributes","attr","setAttribute","value","lang","en","tableCellTypeToTH","tableCellTypeToTD","ja","Object","keys","locale","plugins","add"],"mappings":"8BAEe,MAAAA,EACbC,IAAAA,CAAKC,GACHC,KAAKD,MAAQA,EAEbA,EAAME,QAAQC,MAAMC,MAAQC,EAAMC,KAAK,CACrC,CACEC,KAAM,WACNC,KAAM,KACNC,QAAST,EAAMU,KAAK,qBACpBC,KAAMA,KACJV,KAAKW,UAAU,QAGnB,CACEL,KAAM,WACNC,KAAM,KACNC,QAAST,EAAMU,KAAK,qBACpBC,KAAMA,KACJV,KAAKW,UAAU,QAGnB,QACGZ,EAAME,QAAQC,MAAMC,OAE3B,CAEAQ,SAAAA,CAAUC,GACR,MAAMC,EAAQb,KAAKD,MAAMe,YAAY,QAASd,KAAKD,MAAME,SACpDY,GAELA,EAAME,sBAAsBC,QAAQC,IAElC,GADAJ,EAAMK,gBAAgBD,GAClBA,EAAKE,QAAQC,gBAAkBR,EAAK,CACtC,MAAMS,EAAUrB,KAAKsB,cAAcL,EAAML,GACzCK,EAAKM,WAAWC,aAAaH,EAASJ,EACxC,GAEJ,CAEAK,aAAAA,CAAcL,EAAML,GAClB,MAAMS,EAAUrB,KAAKD,MAAM0B,aAAaC,QAAQd,GAOhD,OANAS,EAAQM,UAAYV,EAAKU,UAEzB,IAAIV,EAAKW,YAAYZ,QAAQa,IAC3BR,EAAQS,aAAaD,EAAKvB,KAAMuB,EAAKE,SAGhCV,CACT,EClDF,IAAeW,EAAA,CACbC,GAAI,CACFC,kBAAmB,gBACnBC,kBAAmB,iBAErBC,GAAI,CACFF,kBAAmB,QACnBC,kBAAmB,UCHvBE,OAAOC,KAAKN,GAAMhB,QAAQuB,IACxBnC,EAAM4B,KAAKO,GAAU,IAChBnC,EAAM4B,KAAKO,MACXP,EAAKO,MAIZnC,EAAMoC,QAAQC,IAAI,kBAAmB5C"}